# 基本数据类型

在本章中，您将会学习到:

- Sonolus.h 的基本数据类型

## 数据类型

我们预定义了部分基本数据类型，如下:

```cpp
var
Array<T, size>
Collection<T, size>                           // 等同于 C++ 中的 vector
Dictionary<T1, T2, size> = Map<T1, T2, size>  // 等同于 C++ 中的 map
Matrix = Mat
Quadratic = Quad
Range = Rg
Rectangle = Rect
Vector = Vec                                  // 并非 C++ 中的 vector
```

- `var`
  - 基础变量类型。
  - 变量存储的区块将会根据用户代码自动调整，目前只会自动分配 `LevelMemory`, `EntityMemory` 和 `TemporaryMemory` 三个区块的内存。如果需要自行指定区块和偏移，请使用 `var a = var(EntitySharedMemory, offset);` 定义变量。
  - 如果需要更换自动分配的区块 id，请修改 `OptionId` 全局变量，并在分配完后记得将 `OptionId` 修改回去！
- `Array<T, size>`
  - 定长数组类型。会根据 `T` 和 `OptionId` 自动分配内存。
  - 支持自定义 class 作为 `T` 模板参数。
- `Collection<T, size>`
  - 不定长数组类型。通过 `size` 指定预分配 `T` 数量。
  - 支持自定义 class 作为 `T` 模板参数。
- `Dictionary<T1, T2, size>`
  - 键值对类型。通过 `size` 指定预分配 `T1`, `T2` 对数量。
  - 支持自定义 class 作为 `T` 模板参数。
- `Matrix`
  - `4x4` 矩阵类型。内部通过二维 `Array` 实现。
  - 可通过 `Matrix.m[i][j]` 获取/修改矩阵第 `i` 行第 `j` 列的数据。
- `Quadratic`
  - 四边形类型。内部通过两个 `Array` 实现。
  - 可通过 `Quadratic.x[i]`/`Quadratic.y[i]` 获取/修改第 `i` 个顶点坐标。
- `Range`
  - 范围类型。内部通过 `var min, max` 实现。
- `Rectangle`
  - 矩形类型。内部通过 `var l, b, r, t` 实现。
- `Vector`
  - `Vector2D` 类型。内部通过 `var x, y` 实现。