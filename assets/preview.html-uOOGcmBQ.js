import{_ as a,c as t,e as n,o}from"./app-BEAdBfBr.js";const s={};function r(d,e){return o(),t("div",null,e[0]||(e[0]=[n('<h1 id="preview-mode" tabindex="-1"><a class="header-anchor" href="#preview-mode"><span>Preview Mode</span></a></h1><h2 id="class-archetype" tabindex="-1"><a class="header-anchor" href="#class-archetype"><span><code><span class="token keyword">class</span></code> <code>Archetype</code></span></a></h2><h3 id="variable-int-id" tabindex="-1"><a class="header-anchor" href="#variable-int-id"><span><code>variable</code> <code><span class="token keyword">int</span></code> <code>id</code></span></a></h3><p>The unique identifier of the archetype.</p><h3 id="variable-variablesarray-entitysharedmemoryid-sharedmemory" tabindex="-1"><a class="header-anchor" href="#variable-variablesarray-entitysharedmemoryid-sharedmemory"><span><code>variable</code> <code>VariablesArray<span class="token operator">&lt;</span>EntitySharedMemoryId<span class="token operator">&gt;</span></code> <code>sharedMemory</code></span></a></h3><p>Generic shared memory storage accessible by other entities.</p><h3 id="variable-entityinfogroup-info" tabindex="-1"><a class="header-anchor" href="#variable-entityinfogroup-info"><span><code>variable</code> <code>EntityInfoGroup</code> <code>info</code></span></a></h3><p>Contains state information of the entity. This variable is read-only in all callback functions.</p><h3 id="variable-string-name" tabindex="-1"><a class="header-anchor" href="#variable-string-name"><span><code>variable</code> <code><span class="token keyword">string</span></code> <code>name</code></span></a></h3><p>The name of the archetype, referenced by entities in level data. Special names have specific effects:</p><ul><li><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token expression">BPM_CHANGE</span></span></code>: Signals a BPM change. Entities with this name must also provide data named <code><span class="token macro property"><span class="token directive-hash">#</span><span class="token expression">BEAT</span></span></code> and <code><span class="token macro property"><span class="token directive-hash">#</span><span class="token expression">BPM</span></span></code>.</li><li><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token expression">TIMESCALE_CHANGE</span></span></code>: Signals a time scale change. Entities with this name must also provide data named <code><span class="token macro property"><span class="token directive-hash">#</span><span class="token expression">BEAT</span></span></code> and <code><span class="token macro property"><span class="token directive-hash">#</span><span class="token expression">TIMESCALE</span></span></code>.</li></ul><h3 id="variable-double-preprocessorder" tabindex="-1"><a class="header-anchor" href="#variable-double-preprocessorder"><span><code>variable</code> <code><span class="token keyword">double</span></code> <code>preprocessOrder</code></span></a></h3><p>Determines the order of the <code>preprocess</code> callback function. Smaller values execute earlier.</p><h3 id="variable-double-renderorder" tabindex="-1"><a class="header-anchor" href="#variable-double-renderorder"><span><code>variable</code> <code><span class="token keyword">double</span></code> <code>renderOrder</code></span></a></h3><p>Determines the order of the <code>render</code> callback function. Smaller values execute earlier.</p><h3 id="function-preprocess" tabindex="-1"><a class="header-anchor" href="#function-preprocess"><span><code>function</code> <code>preprocess</code></span></a></h3><p><strong>Description</strong>: Callback function executed during preprocessing.</p><p><strong>Returns</strong>:</p><table><thead><tr><th>Return Type</th><th>Description</th></tr></thead><tbody><tr><td><code><span class="token constant">SonolusApi</span></code></td><td>The signature of the <code><span class="token constant">SonolusApi</span></code> function</td></tr></tbody></table><h3 id="function-render" tabindex="-1"><a class="header-anchor" href="#function-render"><span><code>function</code> <code>render</code></span></a></h3><p><strong>Description</strong>: Callback function executed for rendering.</p><p><strong>Returns</strong>:</p><table><thead><tr><th>Return Type</th><th>Description</th></tr></thead><tbody><tr><td><code><span class="token constant">SonolusApi</span></code></td><td>The signature of the <code><span class="token constant">SonolusApi</span></code> function</td></tr></tbody></table><h2 id="function-defineimport" tabindex="-1"><a class="header-anchor" href="#function-defineimport"><span><code>function</code> <code>defineImport</code></span></a></h2><p><strong>Description</strong>: Defines an import data for the <code>EntityData</code> block. This macro automatically allocates memory and creates a variable for the imported data.</p><p><strong>Parameters</strong>:</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td><code><span class="token keyword">string</span></code></td><td><em>required</em></td><td>The name of the imported data. This will be used as a variable name in the code and a key in the JSON object.</td></tr></tbody></table><h2 id="function-defineimportdetailed" tabindex="-1"><a class="header-anchor" href="#function-defineimportdetailed"><span><code>function</code> <code>defineImportDetailed</code></span></a></h2><p><strong>Description</strong>: Defines a detailed import for the <code>EntityData</code> block, allowing a custom JSON key for the import. This macro also allocates memory and creates a variable for the imported data.</p><p><strong>Parameters</strong>:</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><code>varName</code></td><td><code><span class="token keyword">string</span></code></td><td><em>required</em></td><td>The name of the variable in the code.</td></tr><tr><td><code>jsonName</code></td><td><code><span class="token keyword">string</span></code></td><td><em>required</em></td><td>The key of the imported data in the JSON object.</td></tr></tbody></table><h2 id="function-builddata" tabindex="-1"><a class="header-anchor" href="#function-builddata"><span><code>function</code> <code>BuildData</code></span></a></h2><p><strong>Description</strong>: Finalizes and writes the engine preview data into a GZIP-compressed JSON file.</p><p><strong>Parameters</strong>:</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><code><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></td><td><em>archetype classes</em></td><td><em>required</em></td><td>All the names of the archetype class</td></tr></tbody></table><h2 id="function-getaid" tabindex="-1"><a class="header-anchor" href="#function-getaid"><span><code>function</code> <code>getAid</code></span></a></h2><p><strong>Description</strong>: Retrieves the identifier for a given archetype class name.</p><p><strong>Parameters</strong>:</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><code>archetype</code></td><td><code><span class="token keyword">string</span></code></td><td><em>required</em></td><td>The name of the archetype class.</td></tr></tbody></table><p><strong>Returns</strong>:</p><table><thead><tr><th>Return Type</th><th>Description</th></tr></thead><tbody><tr><td><code><span class="token keyword">int</span></code></td><td>The ID of the archetype. If the archetype is not found, returns <code><span class="token operator">-</span><span class="token number">1</span></code>.</td></tr></tbody></table>',41)]))}const i=a(s,[["render",r]]),p=JSON.parse('{"path":"/sonolus.h-en/api/modes/preview.html","title":"Preview Mode","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1754138409000,"contributors":[{"name":"LittleYang0531","username":"LittleYang0531","email":"littleyang0531@cau.edu.cn","commits":1,"url":"https://github.com/LittleYang0531"}],"changelog":[{"hash":"56d047f0b8510f81f3f74564ea35dd47b7619b90","time":1754138409000,"email":"littleyang0531@cau.edu.cn","author":"LittleYang0531","message":"Update"}]},"filePathRelative":"sonolus.h-en/api/modes/preview.md"}');export{i as comp,p as data};
