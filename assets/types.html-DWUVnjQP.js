import{_ as i,c as r,e as s,a as l,d as a,b as c,w as o,r as d,o as t}from"./app-DOik5NaU.js";const p={};function u(v,e){const n=d("RouteLink");return t(),r("div",null,[e[3]||(e[3]=s(`<h1 id="types" tabindex="-1"><a class="header-anchor" href="#types"><span>Types</span></a></h1><p>Sonolus.h has the following core types: <code>FuncNode</code>, <code>Variable</code> and <code>Array</code>, which represents a 32-bit float number and a fixed-length array.</p><p>Sonolus.h also has the following builtin types: <code>Collection</code>, <code>Dictionary</code>, <code>Map</code>, <code>Matrix</code>, <code>Quadratic</code>, <code>Range</code>, <code>Rectangle</code> and <code>Vector</code>.</p><h2 id="funcnode" tabindex="-1"><a class="header-anchor" href="#funcnode"><span><code>FuncNode</code></span></a></h2><p><code>FuncNode</code> can be considered as a constant 32-bit float number in Sonolus, which will be stored into <code>EngineData.nodes</code> directly. You can use this type to store a constant <code>int</code> number, a constant <code>float</code> number, or a constant <code>bool</code> number.</p><h3 id="declaration" tabindex="-1"><a class="header-anchor" href="#declaration"><span>Declaration</span></a></h3><p>You can declare a FuncNode using standard C++ syntax.</p><div class="language-c++ line-numbers-mode" data-highlighter="prismjs" data-ext="c++"><pre><code class="language-c++"><span class="line">FuncNode a = 1;</span>
<span class="line">FuncNode b = 2.5;</span>
<span class="line">FuncNode c = true;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="operators" tabindex="-1"><a class="header-anchor" href="#operators"><span>Operators</span></a></h3><p><code>FuncNode</code> supports the following operators:</p><ul><li>Arithmetic operators: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code>, <code>|</code>, <code>&amp;</code>, <code>~</code></li><li>Logical operators: <code>||</code>, <code>&amp;&amp;</code>, <code>!</code></li><li>Comparison operators: <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code></li></ul><h2 id="variable-var" tabindex="-1"><a class="header-anchor" href="#variable-var"><span><code>Variable</code> / <code>var</code></span></a></h2><p><code>Variable</code>(also known as <code>var</code>) is the basic variable in Sonolus.h, which represents a 32-bit float number in Sonolus. You can use this variable type to store a <code>int</code> number, a <code>float</code> number, or a <code>bool</code> number.</p><p>It is essentially a pointer to a specific memory in a certain block in Sonolus. All the float numbers will be stored into corresponding memories.</p><h3 id="declaration-1" tabindex="-1"><a class="header-anchor" href="#declaration-1"><span>Declaration</span></a></h3><p>You can declare a variable using standard C++ syntax.</p><div class="language-c++ line-numbers-mode" data-highlighter="prismjs" data-ext="c++"><pre><code class="language-c++"><span class="line">var a = 1;</span>
<span class="line">var b = 2.5;</span>
<span class="line">var c = true;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You also can declare a variable using the following syntax, which allows you to specify the location where your data was stored.</p><div class="language-c++ line-numbers-mode" data-highlighter="prismjs" data-ext="c++"><pre><code class="language-c++"><span class="line">var d = var(EntitySharedMemory, 0);</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="operators-1" tabindex="-1"><a class="header-anchor" href="#operators-1"><span>Operators</span></a></h3><p><code>var</code> supports the following operators:</p><ul><li>Assignment opeartors: <code>=</code>, <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>%=</code>, <code>&amp;=</code>, <code>|=</code></li><li>Increment / Decrement operators: <code>++a</code>, <code>--a</code>, <code>a++</code>, <code>a--</code>.</li><li>Arithmetic operators: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code>, <code>|</code>, <code>&amp;</code>, <code>~</code></li><li>Logical operators: <code>||</code>, <code>&amp;&amp;</code>, <code>!</code></li><li>Comparison operators: <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code></li></ul><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>For reminder operator, it returns the remainder in real numbers(<code>a % b = a - b * Ceil(a / b)</code>), rather than the result of the multiplicative inverse.</p></div><p><code>var</code> is the only supported variable type for condition expressions. Any non-zero value will be considered as <code>true</code>, and only <code>0</code> will be considered as <code>false</code>. It is same as in C++.</p><ul><li>Selection statements: <code>if (&lt;condition&gt;)</code>, <code>switch(&lt;condition&gt;)</code>, <code>case &lt;expression&gt;: { ... } break;</code></li><li>Loop statements: <code>for (&lt;init-expression&gt;; &lt;condition&gt;; &lt;expression&gt;)</code>, <code>while(&lt;condition&gt;)</code></li></ul><h2 id="array" tabindex="-1"><a class="header-anchor" href="#array"><span><code>Array</code></span></a></h2><p><code>Array&lt;T, size&gt;</code> stores a fixed number of elements of the same type. It is very similar to array in C++.</p><p><code>Array</code> has two template paramters:</p><ul><li><code>T</code>: The type of elements.</li><li><code>size</code>: The length of the array. It must be a non-negative constant <code>int</code> value.</li></ul><h3 id="declaration-2" tabindex="-1"><a class="header-anchor" href="#declaration-2"><span>Declaration</span></a></h3><p>You can declare a array using the following syntax:</p><div class="language-c++ line-numbers-mode" data-highlighter="prismjs" data-ext="c++"><pre><code class="language-c++"><span class="line">Array&lt;var, 16&gt; arr1;</span>
<span class="line">Array&lt;Array&lt;var, 16&gt;, 16&gt; arr2;</span>
<span class="line">Array&lt;var, 16&gt; arr3 = arr1;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Since the usage of template paramters, two arrays will be considered as the same type of arrays only when the type of elements and the length of the array are the same.</p><p>Elements in an array can be copies to another array only when these two arrays are considered as the same type of arrays. This rule is valid in both array constructor and array assignment operator:</p><div class="language-c++ line-numbers-mode" data-highlighter="prismjs" data-ext="c++"><pre><code class="language-c++"><span class="line">Array&lt;var, 16&gt; arr1;</span>
<span class="line">Array&lt;var, 32&gt; arr2;</span>
<span class="line"></span>
<span class="line">// Ok</span>
<span class="line">Array&lt;var, 16&gt; arr3 = arr1;</span>
<span class="line">Array&lt;var, 32&gt; arr4 = arr2;</span>
<span class="line">arr1 = arr3;</span>
<span class="line">arr2 = arr4;</span>
<span class="line"></span>
<span class="line">// Not ok</span>
<span class="line">Array&lt;var, 16&gt; arr5 = arr2;</span>
<span class="line">Array&lt;var, 32&gt; arr6 = arr1;</span>
<span class="line">arr1 = arr6;</span>
<span class="line">arr2 = arr5;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="operators-2" tabindex="-1"><a class="header-anchor" href="#operators-2"><span>Operators</span></a></h3><p>Array can be copied from an another same type array by <code>=</code> assignment operator:</p><div class="language-c++ line-numbers-mode" data-highlighter="prismjs" data-ext="c++"><pre><code class="language-c++"><span class="line">Array&lt;var, 16&gt; arr1, arr2;</span>
<span class="line">arr1 = arr2;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Elements can be accessed by index:</p><div class="language-c++ line-numbers-mode" data-highlighter="prismjs" data-ext="c++"><pre><code class="language-c++"><span class="line">Array&lt;var, 16&gt; arr;</span>
<span class="line">var a = arr[0];</span>
<span class="line">var b = 1;</span>
<span class="line">var c = arr[b];</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Elements can be updated by index:</p><div class="language-c++ line-numbers-mode" data-highlighter="prismjs" data-ext="c++"><pre><code class="language-c++"><span class="line">Array&lt;var, 16&gt; arr;</span>
<span class="line">arr[0] = 1;</span>
<span class="line">var a = 1;</span>
<span class="line">arr[1] = a;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="builtin-types" tabindex="-1"><a class="header-anchor" href="#builtin-types"><span>Builtin Types</span></a></h2>`,43)),l("p",null,[e[1]||(e[1]=a("All the builtin types was implemented using core types above. You can check ")),c(n,{to:"/sonolus.h-en/api/"},{default:o(()=>e[0]||(e[0]=[a("API")])),_:1,__:[0]}),e[2]||(e[2]=a(" for their usages."))]),e[4]||(e[4]=s(`<h2 id="custom-types" tabindex="-1"><a class="header-anchor" href="#custom-types"><span>Custom Types</span></a></h2><p>You can implemented you own custom types using standard C++ syntax.</p><p>The <code>Constructor</code>/<code>Destructor</code>/<code>Constructor</code>/<code>Constructor</code> prefix must be added before the definitions of constructor/destructor/copy/move functions for classes/structs to make up for the missing return type compared to regular function definitions; otherwise, the interpreter will recognize them as function calls:</p><div class="language-c++ line-numbers-mode" data-highlighter="prismjs" data-ext="c++"><pre><code class="language-c++"><span class="line">class Vec3D {</span>
<span class="line">    public:</span>
<span class="line"></span>
<span class="line">    var x, y, z;</span>
<span class="line">    Constructor Vec3D(var X = 0, var Y = 0, var Z = 0) {</span>
<span class="line">        x = X;</span>
<span class="line">        y = Y;</span>
<span class="line">        z = Z;</span>
<span class="line">    }</span>
<span class="line"></span>
<span class="line">    SonolusApi Distance() {</span>
<span class="line">        return Power({ x * x + y * y + z * z, 0.5 });</span>
<span class="line">    }</span>
<span class="line"></span>
<span class="line">    SonolusApi Output() {</span>
<span class="line">        DebugLog(x);</span>
<span class="line">        DebugLog(y);</span>
<span class="line">        DebugLog(z);</span>
<span class="line">    }</span>
<span class="line">};</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4))])}const h=i(p,[["render",u]]),b=JSON.parse('{"path":"/sonolus.h-en/basics/types.html","title":"Types","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1749307539000,"contributors":[{"name":"LittleYang0531","username":"LittleYang0531","email":"littleyang0531@cau.edu.cn","commits":1,"url":"https://github.com/LittleYang0531"}],"changelog":[{"hash":"79da61286b4f0aed95b31fbedf2a0dee93419090","time":1749307539000,"email":"littleyang0531@cau.edu.cn","author":"LittleYang0531","message":"Update Sonolus.h(English)"}]},"filePathRelative":"sonolus.h-en/basics/types.md"}');export{h as comp,b as data};
