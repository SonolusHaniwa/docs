import{_ as s,c as a,e,o as p}from"./app-Tm_cs4D4.js";const t={};function l(c,n){return p(),a("div",null,n[0]||(n[0]=[e(`<h1 id="生命值" tabindex="-1"><a class="header-anchor" href="#生命值"><span>生命值</span></a></h1><p>在本章中，您将会学习到:</p><ul><li>生命值增长原型</li><li>连击生命值增长设置</li><li>次要指标 UI 设置</li></ul><h2 id="生命值增长原型" tabindex="-1"><a class="header-anchor" href="#生命值增长原型"><span>生命值增长原型</span></a></h2><p>对于每一种原型，当玩家获得一种判定类型时，我们都可以奖励或惩罚玩家。</p><p>在我们的引擎中，我们将在玩家获得 Perfect 判定时奖励玩家 <code>10</code> 点生命值，并在玩家获得 Miss 判定时惩罚玩家 <code>100</code> 点生命值。</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="/engine/play/Initialization.cpp"><span>/engine/play/Initialization.cpp</span></div><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">Initialization</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Archetype</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"></span>
<span class="line">    SonolusApi <span class="token function">preprocess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        FUNCBEGIN</span>
<span class="line">        <span class="token comment">// ...</span></span>
<span class="line"></span>
<span class="line">        lifes<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> VOID<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h2 id="连击生命值增长" tabindex="-1"><a class="header-anchor" href="#连击生命值增长"><span>连击生命值增长</span></a></h2><p>与分数类似，无论哪种原型，我们都可以当玩家获得了大于等于一定数量的目标判定后，奖励或惩罚玩家。</p><p>在我们的引擎中，当玩家获得了连续 <code>10</code> 个 Perfect 判定后，就奖励 <code>50</code> 点生命值。</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="/engine/play/Initialization.cpp"><span>/engine/play/Initialization.cpp</span></div><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">Initialization</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Archetype</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"></span>
<span class="line">    SonolusApi <span class="token function">preprocess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        FUNCBEGIN</span>
<span class="line">        <span class="token comment">// ...</span></span>
<span class="line"></span>
<span class="line">        LevelLife<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        LevelLife<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> VOID<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h2 id="次要指标-ui" tabindex="-1"><a class="header-anchor" href="#次要指标-ui"><span>次要指标 UI</span></a></h2><p>与主要指标 UI 类似，Sonolus 提供了次要指标栏与次要指标值 UI，并通常用于显示生命值。</p><div class="code-block-with-title"><div class="code-block-title-bar" data-title="/engine/play/Initialization.cpp"><span>/engine/play/Initialization.cpp</span></div><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">Initialization</span><span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Archetype</span></span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"></span>
<span class="line">    SonolusApi <span class="token function">preprocess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        FUNCBEGIN</span>
<span class="line">        <span class="token comment">// ...</span></span>
<span class="line"></span>
<span class="line">        let secondaryMetricBarX <span class="token operator">=</span> stage<span class="token punctuation">.</span>r <span class="token operator">-</span> <span class="token number">0.05</span><span class="token punctuation">;</span></span>
<span class="line">        let secondaryMetricBarY <span class="token operator">=</span> stage<span class="token punctuation">.</span>t <span class="token operator">-</span> <span class="token number">0.05</span> <span class="token operator">-</span> <span class="token number">0.15</span> <span class="token operator">*</span> ui<span class="token punctuation">.</span>secondaryMetricConfiguration<span class="token punctuation">.</span>scale <span class="token operator">-</span> <span class="token number">0.05</span><span class="token punctuation">;</span></span>
<span class="line">        let secondaryMetricBarWidth <span class="token operator">=</span> <span class="token number">0.75</span> <span class="token operator">*</span> ui<span class="token punctuation">.</span>secondaryMetricConfiguration<span class="token punctuation">.</span>scale<span class="token punctuation">;</span></span>
<span class="line">        let secondaryMetricBarHeight <span class="token operator">=</span> <span class="token number">0.15</span> <span class="token operator">*</span> ui<span class="token punctuation">.</span>secondaryMetricConfiguration<span class="token punctuation">.</span>scale<span class="token punctuation">;</span></span>
<span class="line">        let secondaryMetricValueX <span class="token operator">=</span> stage<span class="token punctuation">.</span>r <span class="token operator">-</span> <span class="token number">0.05</span> <span class="token operator">-</span> <span class="token number">0.035</span> <span class="token operator">*</span> ui<span class="token punctuation">.</span>secondaryMetricConfiguration<span class="token punctuation">.</span>scale<span class="token punctuation">;</span></span>
<span class="line">        let secondaryMetricValueY <span class="token operator">=</span> stage<span class="token punctuation">.</span>t <span class="token operator">-</span> <span class="token number">0.05</span> <span class="token operator">-</span> <span class="token number">0.15</span> <span class="token operator">*</span> ui<span class="token punctuation">.</span>secondaryMetricConfiguration<span class="token punctuation">.</span>scale <span class="token operator">-</span> <span class="token number">0.05</span> <span class="token operator">-</span> <span class="token number">0.035</span> <span class="token operator">*</span> ui<span class="token punctuation">.</span>secondaryMetricConfiguration<span class="token punctuation">.</span>scale<span class="token punctuation">;</span></span>
<span class="line">        let secondaryMetricValueWidth <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">*</span> ui<span class="token punctuation">.</span>secondaryMetricConfiguration<span class="token punctuation">.</span>scale<span class="token punctuation">;</span></span>
<span class="line">        let secondaryMetricValueHeight <span class="token operator">=</span> <span class="token number">0.08</span> <span class="token operator">*</span> ui<span class="token punctuation">.</span>secondaryMetricConfiguration<span class="token punctuation">.</span>scale<span class="token punctuation">;</span></span>
<span class="line">        ui<span class="token punctuation">.</span>secondaryMetricBar<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span></span>
<span class="line">            secondaryMetricBarX<span class="token punctuation">,</span> secondaryMetricBarY<span class="token punctuation">,</span> </span>
<span class="line">            <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> </span>
<span class="line">            secondaryMetricBarWidth<span class="token punctuation">,</span> secondaryMetricBarHeight<span class="token punctuation">,</span> </span>
<span class="line">            <span class="token number">0</span><span class="token punctuation">,</span> </span>
<span class="line">            ui<span class="token punctuation">.</span>secondaryMetricConfiguration<span class="token punctuation">.</span>alpha<span class="token punctuation">,</span> </span>
<span class="line">            HorizontalAlign<span class="token punctuation">.</span>Left<span class="token punctuation">,</span> </span>
<span class="line">            <span class="token boolean">true</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        ui<span class="token punctuation">.</span>secondaryMetricValue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span></span>
<span class="line">            secondaryMetricValueX<span class="token punctuation">,</span> secondaryMetricValueY<span class="token punctuation">,</span> </span>
<span class="line">            <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> </span>
<span class="line">            secondaryMetricValueWidth<span class="token punctuation">,</span> secondaryMetricValueHeight<span class="token punctuation">,</span> </span>
<span class="line">            <span class="token number">0</span><span class="token punctuation">,</span> </span>
<span class="line">            ui<span class="token punctuation">.</span>secondaryMetricConfiguration<span class="token punctuation">.</span>alpha<span class="token punctuation">,</span> </span>
<span class="line">            HorizontalAlign<span class="token punctuation">.</span>Right<span class="token punctuation">,</span> </span>
<span class="line">            <span class="token boolean">false</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// ...</span></span>
<span class="line">        <span class="token keyword">return</span> VOID<span class="token punctuation">;</span>    </span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,14)]))}const o=s(t,[["render",l]]),u=JSON.parse('{"path":"/sonolus.h/play/16.%20life.html","title":"生命值","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1720364737000,"contributors":[{"name":"LittleYang0531","username":"LittleYang0531","email":"“littleyang0531@outlook.com”","commits":1,"url":"https://github.com/LittleYang0531"}],"changelog":[{"hash":"7f13429673ffc5b1dca011868f671ca020b42e65","time":1720364737000,"email":"“littleyang0531@outlook.com”","author":"LittleYang0531","message":"Update"}]},"filePathRelative":"sonolus.h/play/16. life.md"}');export{o as comp,u as data};
